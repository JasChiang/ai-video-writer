# 💡 Gemini 提示詞設計最佳實踐

本文件提供設計有效率的 Google Gemini 提示詞的最佳實踐，旨在協助 AI Video Writer 的用戶和開發者為文章生成、影片分析等任務創建更高品質的內容。

## 🎯 提示詞設計基本原則

好的提示詞能引導 Gemini 模型產生更精確、相關且符合預期的回應。以下是一些核心的設計原則：

### 1. 具體而明確的指令

-   **原則**：避免模糊或開放式指令。清晰、簡潔、具體地說明您希望模型執行的任務、扮演的角色和期望的輸出。
-   **範例**：
    -   ❌ 「寫一篇關於影片的文章。」
    -   ✅ 「請以專業科技評論員的角度，分析影片《${videoTitle}》的創新功能，並撰寫一篇 500 字的產品評測文，結論須包含產品優缺點及適用客群，使用繁體中文，輸出 Markdown 格式。」

### 2. 提供少數範例 (Few-shot Examples)

-   **原則**：當您希望模型以特定格式或風格回應時，提供 1 到 3 個「輸入-輸出」範例，能有效引導模型學習和模仿。
-   **範例**：如果您希望模型只提取城市名稱，可以提供類似的範例：
    -   輸入：「根據圖片判斷地點：義大利羅馬競技場」
    -   輸出：「羅馬」

### 3. 分解複雜任務 (Step-by-step)

-   **原則**：對於需要邏輯推理或多步驟判斷的複雜任務，將其分解為更小的、循序漸進的步驟。您也可以直接指示模型「一步一步思考」。
-   **範例**：「首先，請列出影片中提到的所有核心技術。接著，評估每項技術對產業的潛在影響。最後，根據評估結果，總結影片的未來趨勢。」

### 4. 明確指定輸出格式

-   **原則**：如果您需要模型以特定格式（如 Markdown, JSON, HTML）輸出結果，請在提示詞中明確指定。這對於後續的程式處理非常關鍵。
-   **範例**：「請將影片內容總結為 3 個要點，並以 JSON 陣列格式輸出。」

### 5. 圖片或影片優先原則 (Multimodal Prompts)

-   **原則**：在包含單一圖像或影片的多模態提示詞中，儘可能將圖像/影片部分放在文字提示之前。這有助於模型更好地理解視覺上下文。
-   **範例**：`[圖像數據] 你能描述這張圖片的內容嗎？`

---

## 🛠️ 多模態提示詞故障排除

當模型回應不如預期時，可以嘗試以下策略：

### 1. 模型未從圖像/影片中提取關鍵資訊

-   **策略**：明確指出您希望模型關注圖像/影片的哪些特定方面，或要求模型先描述圖像/影片內容再進行分析。
-   **範例**：
    -   若要分析影片中特定產品，可提示：「請特別針對影片中出現的『XYZ 產品』進行分析...」
    -   或：「首先，請詳細描述影片中所有主要視覺元素，然後再回答...」

### 2. 模型輸出過於通用或不夠客製化

-   **策略**：要求模型在回答前先詳細描述圖像/影片，以確保模型已充分理解輸入內容。
-   **範例**：「請先描述這張圖片的詳細內容，然後根據圖片提供一個富有創意的 Instagram 貼文文案。」

### 3. 無法判斷問題出在何處

-   **策略**：
    -   要求模型「描述圖像/影片內容」來測試其視覺理解能力。
    -   要求模型「解釋其推理過程」，以追溯問題出在哪個環節（視覺理解或邏輯推理）。

### 4. 模型產生幻覺內容 (Hallucination)

-   **策略**：嘗試降低模型的 `temperature` (採樣溫度) 設定，或要求模型提供更簡短的答案，以減少其推斷額外細節的可能性。
-   **說明**：`Temperature` 參數控制模型輸出的隨機性。較低的 `temperature` 會使模型回應更聚焦、更保守。

---

## 📚 相關文件

-   [Google Gemini 官方提示詞設計文件](https://ai.google.dev/docs/prompt_design_guidelines)
-   [Google Gemini 官方多模態提示詞文件](https://ai.google.dev/gemini-api/docs/files#prompt-guide)
-   [自訂文章模板使用指南](../docs/CUSTOM_TEMPLATES.md)
