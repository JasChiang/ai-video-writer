## 頻道分析搜尋為什麼要與「生成文章」相同

1. **資料來源一致**  
   - 生成文章頁面使用 `youtube.search.list` + `youtube.videos.list` 搜尋所有「自己的」影片（含公開、未列出、私人），再逐頁取回 `nextPageToken`。  
   - 頻道分析若只掃播放清單，會被 `playlistItems.list` 的 40 頁上限卡住，且若有任何影片被移除、隱私改變或排序不同，就會漏抓。改成同樣的 Search API 策略才能確保兩邊都以「先抓到完整 videoId 清單，再進行後續處理」為基礎。

2. **包含未公開與私人影片**  
   - `youtube.search.list` 搭配 `forMine: true` 會返回使用者自己頻道的所有影片，權限不限。若只靠播放清單或公開篩選，就會少算未公開/私人影片的觀看數，導致與 Looker Studio 或生成頁結果不一致。

3. **穩定的關鍵字行為**  
   - Search API 先根據 YouTube 官方的搜尋演算法決定候選影片，再由 `youtube.videos.list` 取得詳細資訊，最後才用自訂關鍵字做補濾，這樣可以確保排序、模糊比對邏輯都與其他頁面一致。  
   - 若改用自行遍歷播放清單再 `includes` 比對標題/描述，結果會受資料量、大小寫、語系影響，無法和生成頁一致。

4. **數據對應更精準**  
   - 先確定關鍵字命中的 videoId 集合，之後再用這些 videoId 下 `youtubeAnalytics.reports.query`，就能對應每支影片在指定日期範圍內的觀看數/互動數。  
   - 如果搜尋階段就漏掉影片，後面分析再完整也無法補救，因此「搜尋方式完全一致」是讓頻道分析與生成頁、Looker Studio 對齊的唯一可靠途徑。
